{"version":3,"sources":["/Users/michelvanderhulst/projects/trafficlights/src/$_lazy_route_resource lazy","/Users/michelvanderhulst/projects/trafficlights/src/app/app.component.css","/Users/michelvanderhulst/projects/trafficlights/src/app/app.component.html","/Users/michelvanderhulst/projects/trafficlights/src/app/app.component.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/app.module.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.css","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.html","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.css","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.html","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.css","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.html","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.action.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.effects.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.reducer.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/state.module.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/traffic-lights/traffic-lights.action.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/traffic-lights/traffic-lights.reducer.ts","/Users/michelvanderhulst/projects/trafficlights/src/app/types/TrafficLight.ts","/Users/michelvanderhulst/projects/trafficlights/src/environments/environment.ts","/Users/michelvanderhulst/projects/trafficlights/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<h1>Traffic lights</h1>\\n<app-intersection></app-intersection>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n  title = \"app\";\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/app.component.ts","import { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\n\nimport { AppComponent } from \"./app.component\";\nimport { TrafficLightComponent } from \"./modules/intersection/traffic-light/traffic-light.component\";\nimport { IntersectionComponent } from \"./modules/intersection/intersection.component\";\nimport { CarComponent } from \"./modules/intersection/car/car.component\";\nimport { StateModule } from \"./modules/state/state.module\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    TrafficLightComponent,\n    IntersectionComponent,\n    CarComponent\n  ],\n  imports: [BrowserModule, StateModule],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/app.module.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".car {\\n  width: 12px;\\n  height: 28px;\\n  background-color: blue;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.css\n// module id = ../../../../../src/app/modules/intersection/car/car.component.css\n// module chunks = main","module.exports = \"<div class=\\\"car\\\">\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.html\n// module id = ../../../../../src/app/modules/intersection/car/car.component.html\n// module chunks = main","import { Component, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: \"app-car\",\n  templateUrl: \"./car.component.html\",\n  styleUrls: [\"./car.component.css\"]\n})\nexport class CarComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/car/car.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: distribute;\\n      justify-content: space-around;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n.controls {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: distribute;\\n      justify-content: space-around;\\n}\\n\\n.intersection {\\n  height: 600px;\\n  width:600px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: justify;\\n      -ms-flex-pack: justify;\\n          justify-content: space-between;\\n  -ms-flex-item-align: center;\\n      align-self: center;\\n  position: relative;\\n}\\n\\n.road {\\n  width: 100%;\\n  height: 50px;\\n  background-color: grey;\\n}\\n\\n.vertical {\\n  height: 100%;\\n  width: 50px;\\n  -ms-flex-item-align: center;\\n      -ms-grid-row-align: center;\\n      align-self: center;\\n}\\n\\n.horizontal {\\n  -webkit-transform: translateY(300px);\\n          transform: translateY(300px);\\n}\\n\\n.car {\\n  position: absolute;\\n  transition: left 1s;\\n}\\n\\n.traffic-light-icon {\\n  border-radius: 1000px;\\n  width: 20px;\\n  height: 20px;\\n  line-height: 20px;\\n  text-align: center;\\n  background-color: red;\\n  position: absolute;\\n  opacity: 0.5;\\n}\\n\\n.traffic-light-icon.green {\\n  background-color: green;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.css\n// module id = ../../../../../src/app/modules/intersection/intersection.component.css\n// module chunks = main","module.exports = \"<div class=\\\"controls\\\">\\n  <div class=\\\"traffic-light\\\"\\n       *ngFor=\\\"let light of trafficLights$ | async\\\">\\n    <app-traffic-light [color]=\\\"light.color\\\"\\n                       [id]=\\\"light.id\\\"\\n                       (toggleLight)=\\\"toggleTrafficLight($event)\\\"></app-traffic-light>\\n  </div>\\n</div>\\n\\n<div class=\\\"intersection\\\">\\n  <div class=\\\"road horizontal\\\">\\n\\n  </div>\\n\\n  <div class=\\\"road vertical\\\">\\n\\n  </div>\\n\\n  <app-car *ngFor=\\\"let car of getCarsOnLane(1) | async\\\"\\n           class=\\\"car\\\"\\n           [ngStyle]=\\\"{\\n            'transform': 'rotate(90deg)',\\n            'top.px': 320,\\n            'left.px': car.progress * 2\\n           }\\\"></app-car>\\n\\n  <app-car *ngFor=\\\"let car of getCarsOnLane(2) | async\\\"\\n           class=\\\"car\\\"\\n           [ngStyle]=\\\"{\\n            'transform': 'rotate(90deg)',\\n            'top.px': 300,\\n            'left.px': 600 - car.progress * 2\\n           }\\\"></app-car>\\n\\n  <app-car *ngFor=\\\"let car of getCarsOnLane(3) | async\\\"\\n           class=\\\"car\\\"\\n           [ngStyle]=\\\"{\\n            'top.px': 600  - car.progress * 2,\\n            'left.px': 305\\n           }\\\"></app-car>\\n\\n  <app-car *ngFor=\\\"let car of getCarsOnLane(4) | async\\\"\\n           class=\\\"car\\\"\\n           [ngStyle]=\\\"{\\n            'top.px': car.progress * 2,\\n            'left.px': 280\\n           }\\\"></app-car>\\n\\n  <div class=\\\"traffic-light-icon\\\"\\n       [ngClass]=\\\"{ green: (getTrafficLightById(1) | async)?.color === lightState.Green }\\\"\\n       [ngStyle]=\\\"{ 'left.px': 250, 'top.px': 325 }\\\">1</div>\\n\\n  <div class=\\\"traffic-light-icon\\\"\\n       [ngClass]=\\\"{ green: (getTrafficLightById(2) | async)?.color === lightState.Green }\\\"\\n       [ngStyle]=\\\"{ 'left.px': 325, 'top.px': 300 }\\\">2</div>\\n\\n  <div class=\\\"traffic-light-icon\\\"\\n       [ngClass]=\\\"{ green: (getTrafficLightById(3) | async)?.color === lightState.Green }\\\"\\n       [ngStyle]=\\\"{ 'left.px': 305, 'top.px': 350 }\\\">3</div>\\n\\n  <div class=\\\"traffic-light-icon\\\"\\n       [ngClass]=\\\"{ green: (getTrafficLightById(4) | async)?.color === lightState.Green }\\\"\\n       [ngStyle]=\\\"{ 'left.px': 275, 'top.px': 275 }\\\">4</div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.html\n// module id = ../../../../../src/app/modules/intersection/intersection.component.html\n// module chunks = main","import { Component } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\nimport { LightState, TrafficLight } from \"../../types/TrafficLight\";\nimport { Observable } from \"rxjs/Observable\";\nimport { AppState } from \"../state/state.models\";\nimport { ToggleTrafficLight } from \"../state/traffic-lights/traffic-lights.action\";\nimport \"rxjs/add/operator/map\";\nimport { Car } from \"../state/cars/cars.models\";\n\n@Component({\n  selector: \"app-intersection\",\n  templateUrl: \"./intersection.component.html\",\n  styleUrls: [\"./intersection.component.css\"]\n})\nexport class IntersectionComponent {\n  public trafficLights$: Observable<TrafficLight[]>;\n  public cars$: Observable<Car[]>;\n  public lightState = LightState;\n\n  constructor(private store: Store<AppState>) {\n    this.trafficLights$ = this.store.select(s => s.trafficLights.trafficLights);\n    this.cars$ = this.store.select(s => s.cars.cars);\n  }\n\n  toggleTrafficLight(id: number) {\n    this.store.dispatch(new ToggleTrafficLight({ id }));\n  }\n\n  getTrafficLightById(id: number): Observable<TrafficLight | undefined> {\n    return this.trafficLights$.map(lights => {\n      return lights.filter(light => light.id === id).pop();\n    });\n  }\n\n  getCarsOnLane(lane: number): Observable<Car[] | undefined> {\n    return this.cars$.map(cars => {\n      return cars.filter(car => car.lane === lane);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/intersection.component.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".shell {\\n  border-radius: 1000px;\\n  height: 160px;\\n  width: 50px;\\n  background-color: black;\\n}\\n\\n\\n.number {\\n  color: white;\\n  text-align: center;\\n}\\n\\n.light {\\n  border-radius: 1000px;\\n  height: 40px;\\n  width: 40px;\\n  margin-left: 5px;\\n  margin-bottom: 5px;\\n\\n  opacity: 0.3;\\n}\\n\\n.active {\\n  opacity: 1;\\n}\\n\\n.red {\\n  background-color: red;\\n}\\n\\n.orange {\\n  background-color: orange;\\n}\\n\\n.green {\\n  background-color: green;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.css\n// module id = ../../../../../src/app/modules/intersection/traffic-light/traffic-light.component.css\n// module chunks = main","module.exports = \"<div class=\\\"shell\\\" (click)=\\\"click()\\\" [id]=\\\"'traffic-light-' + id \\\">\\n  <div class=\\\"number\\\">{{ id }}</div>\\n  <div class=\\\"light red\\\" [ngClass]=\\\"{ active: color === lightState.Red }\\\"></div>\\n  <div class=\\\"light orange\\\" [ngClass]=\\\"{ active: color === lightState.Orange }\\\"></div>\\n  <div class=\\\"light green\\\" [ngClass]=\\\"{ active: color === lightState.Green }\\\"></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.html\n// module id = ../../../../../src/app/modules/intersection/traffic-light/traffic-light.component.html\n// module chunks = main","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { LightState } from \"../../../types/TrafficLight\";\n\n@Component({\n  selector: \"app-traffic-light\",\n  templateUrl: \"./traffic-light.component.html\",\n  styleUrls: [\"./traffic-light.component.css\"]\n})\nexport class TrafficLightComponent {\n  @Input() color: LightState;\n  @Input() id: number;\n\n  @Output() toggleLight = new EventEmitter();\n  public lightState = LightState;\n\n  constructor() {}\n\n  click() {\n    this.toggleLight.emit(this.id);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/intersection/traffic-light/traffic-light.component.ts","import { Action } from \"@ngrx/store\";\n\nexport const TICK = \"[Cars] Tick\";\nexport const MOVE_CAR = \"[Cars] Move car\";\nexport const ADD_CAR = \"[Cars] Add car\";\n\nexport class Tick implements Action {\n  readonly type = TICK;\n}\n\nexport class MoveCar implements Action {\n  readonly type = MOVE_CAR;\n\n  constructor(public payload: { id: string }) {}\n}\n\nexport class AddCar implements Action {\n  readonly type = ADD_CAR;\n\n  constructor(public payload: { id: string; lane: number }) {}\n}\nexport type All = Tick | MoveCar | AddCar;\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.action.ts","import \"rxjs/add/observable/interval\";\nimport \"rxjs/add/observable/empty\";\nimport \"rxjs/add/observable/from\";\nimport \"rxjs/add/operator/do\";\nimport \"rxjs/add/operator/mergeMap\";\nimport \"rxjs/add/operator/withLatestFrom\";\n\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { Action, Store } from \"@ngrx/store\";\nimport { Effect } from \"@ngrx/effects\";\nimport { v4 as uuid } from \"uuid\";\n\nimport { AddCar, MoveCar } from \"./cars.action\";\nimport { AppState } from \"../state.models\";\nimport { LightState } from \"../../../types/TrafficLight\";\n\nconst progressToTrafficLight = 125;\nconst widthOfCar = 24;\n\n@Injectable()\nexport class CarsEffects {\n  @Effect()\n  addCars$: Observable<Action> = Observable.interval(3000).map(() => {\n    const lane = Math.ceil(Math.random() * 4);\n    return new AddCar({ id: uuid(), lane: lane });\n  });\n\n  @Effect()\n  moveCars$: Observable<Action> = Observable.interval(50)\n    .withLatestFrom(\n      this.store.select(s => {\n        return s;\n      })\n    )\n    .mergeMap(([, state]) => {\n      const movements: Action[] = [];\n      state.cars.cars.forEach(car => {\n        // Get traffic light on lane of the car\n        const trafficLight = state.trafficLights.trafficLights\n          .filter(light => light.id === car.lane)\n          .pop();\n\n        const carsOnLane = state.cars.cars.filter(c => c.lane === car.lane);\n        const carsInFrontUntilTrafficLight = carsOnLane.filter(\n          c =>\n            c.progress < progressToTrafficLight + 1 && c.progress > car.progress\n        );\n\n        let canCarMove = false;\n        if (trafficLight && trafficLight.color === LightState.Green) {\n          // Light is green\n          canCarMove = true;\n        } else if (\n          car.progress <\n          progressToTrafficLight -\n            carsInFrontUntilTrafficLight.length * widthOfCar\n        ) {\n          // Car is not yet at the stop light (keep in account amount of cars between current car and stoplight)\n          canCarMove = true;\n        } else if (car.progress > progressToTrafficLight) {\n          // Car has passed the stoplight\n          canCarMove = true;\n        }\n\n        if (canCarMove) {\n          movements.push(new MoveCar({ id: car.id }));\n        }\n      });\n      return Observable.from(movements);\n    });\n\n  constructor(private store: Store<AppState>) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.effects.ts","import * as CarsActions from \"./cars.action\";\nimport { CarsState } from \"./cars.models\";\n\ntype Action = CarsActions.All;\n\nconst initialState = {\n  cars: []\n};\n\nexport function carsReducer(\n  state: CarsState = initialState,\n  action: Action\n): CarsState {\n  switch (action.type) {\n    case CarsActions.MOVE_CAR:\n      const newCars = state.cars.map(car => {\n        if (car.id === action.payload.id) {\n          return { ...car, progress: car.progress + 1 };\n        }\n        return car;\n      });\n\n      return { ...state, cars: newCars };\n\n    case CarsActions.ADD_CAR:\n      const newCar = { ...action.payload, progress: 0 };\n      return { ...state, cars: [...state.cars, newCar] };\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/cars/cars.reducer.ts","import { NgModule } from \"@angular/core\";\nimport { StoreModule } from \"@ngrx/store\";\nimport { StoreDevtoolsModule } from \"@ngrx/store-devtools\";\nimport { EffectsModule } from \"@ngrx/effects\";\nimport { trafficLightsReducer } from \"./traffic-lights/traffic-lights.reducer\";\nimport { carsReducer } from \"./cars/cars.reducer\";\nimport { CarsEffects } from \"./cars/cars.effects\";\n\n@NgModule({\n  imports: [\n    StoreModule.forRoot({\n      trafficLights: trafficLightsReducer,\n      cars: carsReducer\n    }),\n    EffectsModule.forRoot([CarsEffects]),\n    StoreDevtoolsModule.instrument({\n      maxAge: 25\n    })\n  ]\n})\nexport class StateModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/state.module.ts","import { Action } from \"@ngrx/store\";\n\nexport const TOGGLE_TRAFFIC_LIGHT = \"[Traffic lights] Toggle\";\n\nexport class ToggleTrafficLight implements Action {\n  readonly type = TOGGLE_TRAFFIC_LIGHT;\n  constructor(public payload: { id: number }) {}\n}\n\nexport type All = ToggleTrafficLight;\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/traffic-lights/traffic-lights.action.ts","import { LightState, TrafficLight } from \"../../../types/TrafficLight\";\nimport * as TrafficLightsActions from \"./traffic-lights.action\";\nimport { TrafficLightsState } from \"./traffic-lights.models\";\n\ntype Action = TrafficLightsActions.All;\n\nconst initialState = {\n  trafficLights: [\n    { id: 1, color: LightState.Red },\n    { id: 2, color: LightState.Red },\n    { id: 3, color: LightState.Red },\n    { id: 4, color: LightState.Red }\n  ]\n};\n\nexport function trafficLightsReducer(\n  state: TrafficLightsState = initialState,\n  action: Action\n): TrafficLightsState {\n  switch (action.type) {\n    case TrafficLightsActions.TOGGLE_TRAFFIC_LIGHT:\n      const newTrafficLights: TrafficLight[] = state.trafficLights.map(\n        light => {\n          // Toggle clicked traffic light\n          if (light.id === action.payload.id) {\n            const toggledColor =\n              light.color === LightState.Red\n                ? LightState.Green\n                : LightState.Red;\n            return { ...light, color: toggledColor };\n          }\n\n          // Reset all green lights to red\n          if (light.color === LightState.Green) {\n            return { ...light, color: LightState.Red };\n          }\n\n          // No change\n          return light;\n        }\n      );\n\n      return { ...state, trafficLights: newTrafficLights };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/modules/state/traffic-lights/traffic-lights.reducer.ts","export enum LightState {\n  Red,\n  Orange,\n  Green\n}\nexport interface TrafficLight {\n  color: LightState;\n  id: number;\n}\n\n// TODO: remove folder\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/app/types/TrafficLight.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/environments/environment.ts","import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\n\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/michelvanderhulst/projects/trafficlights/src/main.ts"],"sourceRoot":"webpack:///"}